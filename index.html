<html>
	<head>
		<title>Color Code Text Viewer</title>
	</head>
	<body>
		<h1>Color Code Text Viewer - Paste text and click outside</h1>
		<textarea style="width:100%;height:250px;"></textarea>
		<div style="margin-top:.5em;padding: 5px; border-style: solid;">
		</div>
		<script src="js/jquery.slim.min.js"></script>
		<script>
			$(function(){
				function svg(code) {
					return '<svg width="14" height="14" style="margin-left:1px;margin-right:1px;"><rect x="0" y="0" rx="0" ry="0" width="14" height="14" style="fill:' + code +  ';stroke:black;stroke-width:1;opacity:1;" />Sorry, your browser does not support inline SVG.</svg>';
				}
				$('textarea').change(function(){
					$('div').html(
						$(this).val().replace(/(#[\da-fA-F]{6})/g,function(p1){
							return '<span style="font-weight: bold;font-style:italic;">'+p1+'</span>'+svg(p1);
						}).replace(/\n/g, '<br>')
					);
				});
			});
		</script>
	</body>
</html>
